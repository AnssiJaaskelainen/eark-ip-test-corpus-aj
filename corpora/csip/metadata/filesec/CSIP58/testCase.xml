<!-- Root element for an individual test case, allows these to be wrapped into
XML lists -->
<testCase xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="testCase.xsd"
  testable="TRUE">
  <!-- Unique ID for the test case -->
  <id specification="E-ARK CSIP" version="2.0-DRAFT" requirementId="CSIP58"/>
  <!-- URL references to requirements for convenient lookup -->
  <references>
    <reference requirementId="CSIP58" URL="http://earkcsip.dilcis.eu/#CSIP58"/>
  </references>
  <!-- The full text of the requirement. -->
  <requirementText>When the section is used only one file section (fileSec) element is present. It is possible to transfer just descriptive metadata and/or administrative metadata without files placed in this section.</requirementText>
  <!-- Textual description of the test case, extra notes beyond the requirement text. -->
  <description>There needs to be a package which has files in "data" folder and no fileSec - and this should produce a warning.
    There needs to be a package which has data files in "data" folder! and no fileSec - and this should produce an error.
    There needs to be a package which has no data files and a fileSec - and this should produce an error. </description>
  <!-- List of requirments that this test case depends on in addition to the
  main requirememt, e.g. general requirments on the form of IDs -->
  <dependencies> 
    <dependency requirementId="CSIP29" URL="http://earkcsip.dilcis.eu/#CSIP29"></dependency><!-- There is a dependency to CSIP29, since this attribute hold the value of the checksumtype for the linked file -->
    <dependency requirementId="CSIP21" URL="http://earkcsip.dilcis.eu/#CSIP21"></dependency><!-- There is a dependency to CSIP21 since CSIP29 is only mandatory if mdRef is present  -->
    <dependency requirementId="CSIP17" URL="http://earkcsip.dilcis.eu/#CSIP17"></dependency><!-- There is a dependency to CSIP17 since CSIP29 is only mandatory if dmdSec and mdRef is present -->
  </dependencies>
  <!-- A list of the validation rules derived from the test case -->
  <rules>
    <rule id="1">
      <description>If dmdSec/mdRef-element is present there MUST be a CHECKSUMTYPE-attribute</description>
      <error level="ERROR">
        <message>mets/dmdSec/mdRef/@CHECKSUMTYPE does not exist in METS.xml. @CHECKSUMTYPE is a mandatory attribute according to CS IP if the mdRef-element is present.</message>
      </error>
      <corpusPackages>
        <package isValid="FALSE" name="IP_18000_CSIP30_1">
          <path>/corpora/csip/metadata/dmdSec/CSIP30/IP_18000_CSIP30_1</path>
          <description>the METS.xml is missing an CHECKSUMTYPE-attribute in mets/dmdSec/mdRef</description>
        </package>
      </corpusPackages>
    </rule>
  </rules>
</testCase>
