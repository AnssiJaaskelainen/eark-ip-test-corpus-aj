<testCase xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="testCase.xsd" testable="TRUE">
  <id specification="CSIP" version="2.0.0-DRAFT" requirementId="CSIP2" />
  <references>
    <reference requirementId="CSIP2" URL="http://earkcsip.dilcis.eu#CSIP2" />
  </references>
  <requirementText>
    <nameAndLocation>
      General content type
      `mets/@TYPE`
    </nameAndLocation>
    <description>
      The @TYPE attribute must be used for identifying the general type of the package (genre). A vocabulary is used. The vocabulary is going to evolve under the care of the DILCIS Board as additional content information type specifications are developed.
      **See also:** Content information type declaration: http://earkcsip.dilcis.eu/#VocabularyType
    </description>
    <cardinality>1..1</cardinality>
    <level>MUST</level>
  </requirementText>
  <description>
    @TYPE MUST be present.
    @TYPE MUST have a value from the VocabularyType as defined by DILCIS Board.
  </description>
  <dependencies>
    <!-- Vocabularies should also have proper requirementID-s, the current one here is artificial. -->
    <dependency requirementId="Content_information_type_declaration" URL="http://earkcsip.dilcis.eu/#VocabularyType">
      http://earkcsip.dilcis.eu/schema/DILCISVocabulariesIP.xml
    </dependency>
  </dependencies>
  <rules>
    <rule id="1">
      <description>@TYPE MUST be present.</description>
      <error level="ERROR">
        <message>
          mets/@TYPE attribute does not exist. MUST be: attribute exists and has a value.
        </message>
      </error>
      <corpusPackages>
        <package name="mets-xml_mets_TYPE_attribute_not_exist" isValid="FALSE">
          <path></path>
          <description>
            METS.xml file with no mets/@TYPE attribute.
          </description>
        </package>
        <package name="valid_minimal" isValid="TRUE">
          <path></path>
          <description>
            Minimal folder structure and root METS.xml file, nothing optional included.
          </description>
        </package>
      </corpusPackages>
    </rule>
    <rule id="2">
    <!--  A value is mandatory, so a check for empty value is reasonable. However,
          technically the schema that defines the vocabulary could include an 
          empty value. In that case, the error report here would be incorrect. -->
      <description>@TYPE MUST have a non-empty value.</description>
      <error level="ERROR">
        <message>
          mets/@TYPE attribute has an empty value. MUST be: attribute has a value from the VocabularyType as defined by DILCIS Board.
        </message>
      </error>
      <corpusPackages>
        <package name="mets-xml_mets_TYPE_attribute_value_empty" isValid="FALSE">
          <path></path>
          <description>
            METS.xml file with mets/@TYPE = "".
          </description>
        </package>
        <package name="valid_minimal" isValid="TRUE">
          <path></path>
          <description>
            Minimal folder structure and root METS.xml file, nothing optional included.
          </description>
        </package>
      </corpusPackages>
    </rule>
    <rule id="3">
      <description>@TYPE MUST have a value from the VocabularyType as defined by DILCIS Board.</description>
      <error level="ERROR">
        <message>
          mets/@TYPE attribute has incorrect value. MUST be: attribute has a value from the VocabularyType as defined by DILCIS.
        </message>
      </error>
      <corpusPackages>
        <package name="mets-xml_mets_TYPE_attribute_value_incorrect" isValid="FALSE">
          <path></path>
          <description>
            METS.xml file with mets/@TYPE = "random_string_n3ihcu63LdGb37kF7".
          </description>
        </package>
        <package name="valid_minimal" isValid="TRUE">
          <path></path>
          <description>
            Minimal folder structure and root METS.xml file, nothing optional included.
          </description>
        </package>
        <!--  Ideally, there should be a valid IP for each specific vocabulary 
              value. This should be automated as VocabularyType currently 
              allows 25 different values. -->
        <package name="valid_minimal_mets_TYPE_value_vocabulary_1" isValid="TRUE">
          <path></path>
          <description>
            Minimal folder structure and root METS.xml file, nothing optional included. mets/@TYPE value set to VocabularyType allowed value nr 1.
          </description>
        </package>
      </corpusPackages>
    </rule>
  </rules>
</testCase>